<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Profile</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; padding: 50px; background-color: #1a1a2e; color: #fff; }
    img { border-radius: 50%; margin-bottom: 15px; }
    .stats { margin: 20px 0; }
    .section { margin: 10px 0; }
    .connected-users { display: flex; justify-content: center; gap: 10px; }
    .nav-bar { position: fixed; bottom: 0; width: 100%; background-color: #16213e; padding: 10px 0; }
  </style>
</head>
<body>
  <div id="profile"></div>
  <div class="stats">
    <div>Recent: {{ recent }}</div>
    <div>Played: {{ played }}</div>
    <div>Duration: {{ duration }}m</div>
  </div>
  <div class="section">🎵 Recently Played Your listening history</div>
  <div class="section">👥 Connected Users
    <div class="connected-users" id="connected-users"></div>
  </div>
  <div class="section">❓ FAQ Frequently asked questions</div>
  <div class="section">📜 Terms & Conditions Terms of service</div>
  <div class="nav-bar">
    <span class="nav-btn" onclick="window.location.href='/player'">🎵</span>
    <span class="nav-btn" onclick="window.location.href='/search'">🔎</span>
    <span class="nav-btn" onclick="window.location.href='/profile'">👤</span>
    <span class="nav-btn" onclick="window.location.href='/setting'">⚙️</span>
    <span class="nav-btn" onclick="window.location.href='/chating'">💬</span>
  </div>
  <script>
    const tg = window.Telegram.WebApp;
    const user = tg.initDataUnsafe?.user;

    if (user) {
      document.getElementById("profile").innerHTML = `
        <img src="${user.photo_url}" width="100"><br>
        <b>${user.first_name} ${user.last_name || ""}</b><br>
        @${user.username || "No username"}<br>
        ID: ${user.id}
      `;
    } else {
      document.getElementById("profile").innerText = "No user data found.";
    }

    // Placeholder for connected users (to be updated with real-time data)
    const connectedUsers = document.getElementById("connected-users");
    const dummyUsers = [{ id: 1, name: "User1" }, { id: 2, name: "User2" }];
    connectedUsers.innerHTML = dummyUsers.map(u => `<div>${u.name}</div>`).join('');
  </script>
</body>
</html>
